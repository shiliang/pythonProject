set t1 = ?;set t2 = ?;set t3 = ?;set atest_1.a1.noise = {"algo": "", "epsilon": "", "sensitivity": "", "delta": ""};SELECT  (2 * t1 * (btest_2.b2 + atest_1.a1) + 2 * (atest_1.a1 +atest_1.a1)) * btest_2.b2 FROM atest_1, btest_2 WHERE atest_1.id = t2;[{"exposeEndpointList":[{"address":"127.0.0.1:40000","description":"匿名查询接收方服务","method":"","name":"MpcClient","partyId":"1","partyName":"1-c","path":"","protocol":"HTTP","serviceCa":"","serviceCert":"","serviceClass":"MpcClient4Query","serviceKey":"","tlsEnabled":true,"valueList":[{"key":"inputParams","value":"{\"inputDataDetailList\":[{\"assetName\":\"btest_2\",\"columnName\":\"b2\",\"dataId\":\"btest_2\",\"dataName\":\"btest_2\",\"domainId\":\"2\",\"domainName\":\"ida2\",\"params\":\"{\\\"field\\\":\\\"b2\\\",\\\"index\\\":\\\"[0,4]\\\",\\\"table\\\":\\\"btest_2\\\"}\",\"role\":\"client\",\"tableName\":\"btest\",\"taskSrc\":\"\"},{\"assetName\":\"atest_1\",\"columnName\":\"a1\",\"dataId\":\"atest_1\",\"dataName\":\"atest_1\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"params\":\"{\\\"field\\\":\\\"a1\\\",\\\"index\\\":\\\"[1,2,3]\\\",\\\"table\\\":\\\"atest_1\\\"}\",\"role\":\"client\",\"tableName\":\"atest\",\"taskSrc\":\"\"}],\"taskId\":\"1\"}"},{"key":"idParams","value":"[{\"field\":\"id\",\"domainName\":\"ida1\",\"variable\":\"t2\",\"table\":\"atest_1\",\"domainId\":\"1\"}]"},{"key":"mpcParams","value":"{\"moduleName\":\"MPCEXP\",\"paramList\":[{\"key\":\"expression\",\"value\":\"(c*v*(x+x)+c*(x+x))*x\"},{\"key\":\"constants\",\"value\":\"2,2\"},{\"key\":\"variables\",\"value\":\"t1\"},{\"key\":\"function\",\"value\":\"base\"}]}"}]}],"manual":false,"partyId":"1","partyName":"1-c","referExposeEndpointList":[{"id":"MpcServer","name":"MpcServer","protocol":"HTTP","referEndpointName":"MpcServer","referServiceId":"1"}],"serviceClass":"MpcClient4Query","serviceId":"0","serviceLabel":"MpcClient4Query","serviceName":"MpcClient4Query","version":"1.0.0"},{"exposeEndpointList":[{"address":"127.0.0.1:40000","description":"匿名查询发送方服务","method":"","name":"MpcServer","partyId":"2","partyName":"ida2","path":"","protocol":"HTTP","serviceCa":"","serviceCert":"","serviceClass":"MpcServer4Query","serviceKey":"","tlsEnabled":true,"valueList":[{"$ref":"$[0].exposeEndpointList[0].valueList[0]"},{"$ref":"$[0].exposeEndpointList[0].valueList[1]"},{"$ref":"$[0].exposeEndpointList[0].valueList[2]"}]}],"manual":false,"partyId":"2","partyName":"ida2","referExposeEndpointList":[{"id":"MpcClient","name":"MpcClient","protocol":"HTTP","referEndpointName":"MpcClient","referServiceId":"0"}],"serviceClass":"MpcServer4Query","serviceId":"1","serviceLabel":"MpcServer4Query","serviceName":"MpcServer4Query","version":"1.0.0"}]
set t1 = ?; select atest_1.k, atest_1.a1 from atest_1 where atest_1.id= t1 [{"exposeEndpointList":[{"address":"127.0.0.1:40000","description":"匿名查询接收方服务","method":"","name":"PirClient","partyId":"1","partyName":"1-c","path":"","protocol":"HTTP","serviceCa":"","serviceCert":"","serviceClass":"PirClient4Query","serviceKey":"","tlsEnabled":true,"valueList":[{"key":"taskLists","value":"[{\"createTime\":\"1725343680710\",\"input\":{\"inputDataDetailList\":[{\"assetName\":\"atest_1\",\"columnName\":\"id\",\"dataId\":\"atest_1\",\"dataName\":\"atest_1\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"params\":\"{\\\"field\\\":\\\"id\\\",\\\"variable\\\":\\\"t1\\\",\\\"table\\\":\\\"atest_1\\\"}\",\"role\":\"client\",\"tableName\":\"atest\",\"taskSrc\":\"\"}],\"taskId\":\"0\"},\"jobId\":\"27fcddc7085b4cfa9b3d868a4b24a693\",\"module\":{\"moduleName\":\"PIR\"},\"outputList\":[{\"dataId\":\"\",\"dataName\":\"atest_1-0\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"finalResult\":\"N\",\"isFinalResult\":false,\"pubKey\":\"\"}],\"partyList\":[{\"partyId\":\"1\",\"partyName\":\"ida1\"}],\"status\":0,\"taskId\":\"0\",\"taskName\":\"0\",\"updateTime\":\"1725343680710\",\"version\":\"1.0.0\"},{\"createTime\":\"1725343680710\",\"input\":{\"inputDataDetailList\":[{\"assetName\":\"atest_1\",\"columnName\":\"k\",\"dataId\":\"atest_1\",\"dataName\":\"atest_1\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"params\":\"{\\\"field\\\":\\\"k\\\",\\\"table\\\":\\\"atest_1\\\"}\",\"role\":\"client\",\"tableName\":\"atest\",\"taskSrc\":\"\"}],\"taskId\":\"1\"},\"jobId\":\"27fcddc7085b4cfa9b3d868a4b24a693\",\"module\":{\"moduleName\":\"QUERY\"},\"outputList\":[{\"dataId\":\"\",\"dataName\":\"atest_1-1\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"finalResult\":\"N\",\"isFinalResult\":false,\"pubKey\":\"\"}],\"partyList\":[{\"partyId\":\"1\",\"partyName\":\"ida1\"}],\"status\":0,\"taskId\":\"1\",\"taskName\":\"1\",\"updateTime\":\"1725343680710\",\"version\":\"1.0.0\"},{\"createTime\":\"1725343680710\",\"input\":{\"inputDataDetailList\":[{\"assetName\":\"atest_1\",\"columnName\":\"a1\",\"dataId\":\"atest_1\",\"dataName\":\"atest_1\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"params\":\"{\\\"field\\\":\\\"a1\\\",\\\"table\\\":\\\"atest_1\\\"}\",\"role\":\"client\",\"tableName\":\"atest\",\"taskSrc\":\"\"}],\"taskId\":\"2\"},\"jobId\":\"27fcddc7085b4cfa9b3d868a4b24a693\",\"module\":{\"moduleName\":\"QUERY\"},\"outputList\":[{\"dataId\":\"\",\"dataName\":\"atest_1-2\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"finalResult\":\"N\",\"isFinalResult\":false,\"pubKey\":\"\"}],\"partyList\":[{\"partyId\":\"1\",\"partyName\":\"ida1\"}],\"status\":0,\"taskId\":\"2\",\"taskName\":\"2\",\"updateTime\":\"1725343680710\",\"version\":\"1.0.0\"}]"}]}],"manual":false,"partyId":"1","partyName":"1-c","referExposeEndpointList":[{"id":"PirServer","name":"PirServer","protocol":"HTTP","referEndpointName":"PirServer","referServiceId":"1"}],"serviceClass":"PirClient4Query","serviceId":"0","serviceName":"匿名查询接收方","version":"1.0.0"},{"exposeEndpointList":[{"address":"127.0.0.1:40000","description":"匿名查询发送方服务","method":"","name":"PirServer","partyId":"1","partyName":"1-c","path":"","protocol":"HTTP","serviceCa":"","serviceCert":"","serviceClass":"PirServer4Query","serviceKey":"","tlsEnabled":true,"valueList":[{"$ref":"$[0].exposeEndpointList[0].valueList[0]"}]}],"manual":false,"partyId":"1","partyName":"1-c","referExposeEndpointList":[{"id":"PirClient","name":"PirClient","protocol":"HTTP","referEndpointName":"PirClient","referServiceId":"0"}],"serviceClass":"PirServer4Query","serviceId":"1","serviceName":"匿名查询发送方","version":"1.0.0"}]
set t1 = ?; select /*+ FILTER(TEE) */ atest_1.k, atest_1.a1 from atest_1 where atest_1.id= t1[{"exposeEndpointList":[{"address":"127.0.0.1:40000","description":"匿名查询接收方服务","method":"","name":"TeePirClient","partyId":"1","partyName":"1-c","path":"","protocol":"HTTP","serviceCa":"","serviceCert":"","serviceClass":"TeePirClient4Query","serviceKey":"","tlsEnabled":true,"valueList":[{"key":"taskLists","value":"[{\"createTime\":\"1725343680745\",\"input\":{\"inputDataDetailList\":[{\"assetName\":\"atest_1\",\"columnName\":\"id\",\"dataId\":\"atest_1\",\"dataName\":\"atest_1\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"params\":\"{\\\"field\\\":\\\"id\\\",\\\"table\\\":\\\"atest_1\\\"}\",\"role\":\"client\",\"tableName\":\"atest\",\"taskSrc\":\"\"},{\"assetName\":\"\",\"columnName\":\"t1\",\"dataId\":\"\",\"dataName\":\"\",\"domainId\":\"1\",\"domainName\":\"1-c\",\"role\":\"client\",\"taskSrc\":\"\"}],\"taskId\":\"0\"},\"jobId\":\"dc8d1e41060a40f88faf3a3d299cda3f\",\"module\":{\"moduleName\":\"TEEPSI\"},\"outputList\":[{\"dataId\":\"\",\"dataName\":\"atest_1-0\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"finalResult\":\"N\",\"isFinalResult\":false,\"pubKey\":\"\"},{\"dataId\":\"\",\"domainId\":\"1\",\"domainName\":\"1-c\",\"finalResult\":\"N\",\"isFinalResult\":false,\"pubKey\":\"\"}],\"partyList\":[{\"partyId\":\"1\",\"partyName\":\"ida1\"}],\"status\":0,\"taskId\":\"0\",\"taskName\":\"0\",\"updateTime\":\"1725343680745\",\"version\":\"1.0.0\"},{\"createTime\":\"1725343680745\",\"input\":{\"inputDataDetailList\":[{\"assetName\":\"atest_1\",\"columnName\":\"k\",\"dataId\":\"atest_1\",\"dataName\":\"atest_1\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"params\":\"{\\\"field\\\":\\\"k\\\",\\\"table\\\":\\\"atest_1\\\"}\",\"role\":\"client\",\"tableName\":\"atest\",\"taskSrc\":\"\"},{\"assetName\":\"atest_1\",\"columnName\":\"a1\",\"dataId\":\"atest_1\",\"dataName\":\"atest_1\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"params\":\"{\\\"field\\\":\\\"a1\\\",\\\"table\\\":\\\"atest_1\\\"}\",\"role\":\"client\",\"tableName\":\"atest\",\"taskSrc\":\"\"}],\"taskId\":\"1\"},\"jobId\":\"dc8d1e41060a40f88faf3a3d299cda3f\",\"module\":{\"moduleName\":\"QUERY\"},\"outputList\":[{\"dataId\":\"\",\"dataName\":\"atest_1-1\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"finalResult\":\"N\",\"isFinalResult\":false,\"pubKey\":\"\"},{\"dataId\":\"\",\"dataName\":\"atest_1-1\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"finalResult\":\"N\",\"isFinalResult\":false,\"pubKey\":\"\"}],\"partyList\":[{\"partyId\":\"1\",\"partyName\":\"ida1\"}],\"status\":0,\"taskId\":\"1\",\"taskName\":\"1\",\"updateTime\":\"1725343680745\",\"version\":\"1.0.0\"}]"}]}],"manual":false,"partyId":"1","partyName":"1-c","referExposeEndpointList":[{"id":"TeePirServer","name":"TeePirServer","protocol":"HTTP","referEndpointName":"TeePirServer","referServiceId":"1"}],"serviceClass":"TeePirClient4Query","serviceId":"0","serviceName":"匿名查询接收方","version":"1.0.0"},{"exposeEndpointList":[{"address":"127.0.0.1:40000","description":"匿名查询发送方服务","method":"","name":"TeePirServer","partyId":"1","partyName":"1-c","path":"","protocol":"HTTP","serviceCa":"","serviceCert":"","serviceClass":"TeePirServer4Query","serviceKey":"","tlsEnabled":true,"valueList":[{"$ref":"$[0].exposeEndpointList[0].valueList[0]"}]}],"manual":false,"partyId":"1","partyName":"1-c","referExposeEndpointList":[{"id":"TeePirClient","name":"TeePirClient","protocol":"HTTP","referEndpointName":"TeePirClient","referServiceId":"0"}],"serviceClass":"TeePirServer4Query","serviceId":"1","serviceName":"匿名查询发送方","version":"1.0.0"}]
set t2 = ?; SELECT /*+ FULLY_COV(TEE) */ SCORE(atest_1.a1, t2, btest_2.b1) FROM atest_1, btest_2 WHERE atest_1.id= t2 [{"exposeEndpointList":[{"address":"127.0.0.1:40000","description":"匿名查询接收方服务","method":"","name":"TeePirClient","partyId":"1","partyName":"1-c","path":"","protocol":"HTTP","serviceCa":"","serviceCert":"","serviceClass":"TeePirClient4Query","serviceKey":"","tlsEnabled":true,"valueList":[{"key":"taskLists","value":"[{\"createTime\":\"1725343680773\",\"input\":{\"inputDataDetailList\":[{\"assetName\":\"atest_1\",\"columnName\":\"id\",\"dataId\":\"atest_1\",\"dataName\":\"atest_1\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"params\":\"{\\\"field\\\":\\\"id\\\",\\\"table\\\":\\\"atest_1\\\"}\",\"role\":\"client\",\"tableName\":\"atest\",\"taskSrc\":\"\"},{\"assetName\":\"\",\"columnName\":\"t2\",\"dataId\":\"\",\"dataName\":\"\",\"domainId\":\"1\",\"domainName\":\"1-c\",\"role\":\"client\",\"taskSrc\":\"\"}],\"taskId\":\"0\"},\"jobId\":\"fb11a33cf43d484f9b8976c53d4e47e4\",\"module\":{\"moduleName\":\"TEEPSI\"},\"outputList\":[{\"dataId\":\"\",\"dataName\":\"atest_1-0\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"finalResult\":\"N\",\"isFinalResult\":false,\"pubKey\":\"\"},{\"dataId\":\"\",\"domainId\":\"1\",\"domainName\":\"1-c\",\"finalResult\":\"N\",\"isFinalResult\":false,\"pubKey\":\"\"}],\"partyList\":[{\"partyId\":\"1\",\"partyName\":\"ida1\"}],\"status\":0,\"taskId\":\"0\",\"taskName\":\"0\",\"updateTime\":\"1725343680773\",\"version\":\"1.0.0\"},{\"createTime\":\"1725343680773\",\"input\":{\"inputDataDetailList\":[{\"assetName\":\"atest_1\",\"columnName\":\"a1\",\"dataId\":\"atest_1\",\"dataName\":\"atest_1\",\"domainId\":\"1\",\"domainName\":\"ida1\",\"params\":\"{\\\"field\\\":\\\"a1\\\",\\\"index\\\":\\\"0\\\",\\\"table\\\":\\\"atest_1\\\"}\",\"role\":\"client\",\"tableName\":\"atest\",\"taskSrc\":\"\"},{\"columnName\":\"t2\",\"domainId\":\"1\",\"domainName\":\"1-c\",\"params\":\"{\\\"field\\\":\\\"t2\\\"}\",\"role\":\"client\",\"taskSrc\":\"\"},{\"assetName\":\"btest_2\",\"columnName\":\"b1\",\"dataId\":\"btest_2\",\"dataName\":\"btest_2\",\"domainId\":\"2\",\"domainName\":\"ida2\",\"params\":\"{\\\"field\\\":\\\"b1\\\",\\\"index\\\":\\\"1\\\",\\\"table\\\":\\\"btest_2\\\"}\",\"role\":\"client\",\"tableName\":\"btest\",\"taskSrc\":\"\"}],\"taskId\":\"1\"},\"jobId\":\"fb11a33cf43d484f9b8976c53d4e47e4\",\"module\":{\"moduleName\":\"TEE\",\"paramList\":[{\"key\":\"expression\",\"value\":\"x,v,x\"},{\"key\":\"variables\",\"value\":\"t2\"},{\"key\":\"function\",\"value\":\"SCORE\"}],\"partyParamList\":[{\"partyId\":\"69vkhy6org.cm-5w2wtw3afr\",\"params\":{\"variables\":\"t2\",\"expression\":\"x,v,x\",\"methodName\":\"SCORE\"}}]},\"outputList\":[{\"dataId\":\"\",\"domainId\":\"69vkhy6org.cm-5w2wtw3afr\",\"finalResult\":\"N\",\"isFinalResult\":false,\"pubKey\":\"\"}],\"partyList\":[{\"partyId\":\"2\",\"partyName\":\"ida2\"},{\"partyId\":\"1\",\"partyName\":\"1-c\"},{\"partyId\":\"1\",\"partyName\":\"ida1\"}],\"status\":0,\"taskId\":\"1\",\"taskName\":\"1\",\"updateTime\":\"1725343680773\",\"version\":\"1.0.0\"}]"}]}],"manual":false,"partyId":"1","partyName":"1-c","referExposeEndpointList":[{"id":"TeePirServer","name":"TeePirServer","protocol":"HTTP","referEndpointName":"TeePirServer","referServiceId":"1"}],"serviceClass":"TeePirClient4Query","serviceId":"0","serviceName":"匿名查询接收方","version":"1.0.0"},{"exposeEndpointList":[{"address":"127.0.0.1:40000","description":"匿名查询发送方服务","method":"","name":"TeePirServer","partyId":"2","partyName":"ida2","path":"","protocol":"HTTP","serviceCa":"","serviceCert":"","serviceClass":"TeePirServer4Query","serviceKey":"","tlsEnabled":true,"valueList":[{"$ref":"$[0].exposeEndpointList[0].valueList[0]"}]}],"manual":false,"partyId":"2","partyName":"ida2","referExposeEndpointList":[{"id":"TeePirClient","name":"TeePirClient","protocol":"HTTP","referEndpointName":"TeePirClient","referServiceId":"0"}],"serviceClass":"TeePirServer4Query","serviceId":"1","serviceName":"匿名查询发送方","version":"1.0.0"}]
